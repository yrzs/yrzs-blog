---
title: "MyISAM Index"
date: 2022-07-17T14:44:41+08:00
draft: false
---

[InnoDB](/post/2022/7/14/index)中索引即是数据，也就是 _聚簇索引_ 的 B+Tree 的叶子节点已经把所有完整的用户记录都包含了。

MyISAM的索引方案虽然也使用树形结构，但是却将索引和数据分开存储：
####
    将表中的记录按照记录的插入顺序单独存储在一个文件中，称之为 数据文件
>这个文件并不划分为若干个 _数据页_,有多少记录就往这个文件中塞多少记录，通过行号快速访问到某一条记录。MyISAM 记录也需要记录头信息来存储一些额外数据，由于在插入数据的时候并没有刻意按照主键大小排序，所以我们并不能在这些数据上使用二分法进行查找。

####
    使用MyISAM存储引擎的table会把索引细腻下另外存储到一个文件中，称之为 索引文件 
>MyISAM会单独为table的primary key 创建一个索引，只不过在索引的叶子节点存储的不是完整的用户记录，而是 _主键值+行号_ 
的组合。也就是先通过索引找到行号，再通过行号找到对应的记录。

这一点和 InnoDB 是完全不同的，在InnoDB中，我们只需要根据主键值对 _聚簇索引_ 进行一次查找就能找到相应的记录，而在 MyISAM 中
却需要进行一次 _回表_ 操作，这意味着 MyISAM 中建立的索引相当于全都是 _二级索引_。

####
    如果有需要的话，我们也可以对其他的列分别建立索引或者建立联合索引，原理和 InnoDB 索引差不多，不过在叶子节点存储的是 相应的列+行号 。
    这些索引也都是 二级索引

MyISAM的行格式有定长记录格式（Static）、变长记录格式（Dynamic）、压缩记录格式（Compressed）。